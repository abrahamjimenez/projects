---
import Image from './Image.astro';
import Button from './Button.astro';

interface Props {
  title?: string;
  text?: string;
  button?: string;
  src: ImageMetadata;
  alt: string;
}

const { title, text, button, src, alt } = Astro.props;
---

<div class='imageOverlay'>
  <Image src={src} alt={alt} />
  <div class='imageOverlay__content'>
    {title && title.trim() !== '' && <h2>{title}</h2>}
    {text && text.trim() !== '' && <p>{text}</p>}
    {button && button.trim() !== '' && <Button text={button} />}
  </div>
</div>

<style>
  .imageOverlay {
    position: relative;
  }

  .imageOverlay__content {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    color: white;
    text-align: center;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.3);
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
  }

  .imageOverlay__content p {
    margin-top: 0;
  }
</style>

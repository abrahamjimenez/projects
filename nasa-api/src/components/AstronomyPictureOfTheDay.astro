---
const apiKey = import.meta.env.API_KEY;
const response = await fetch(`https://api.nasa.gov/planetary/apod?api_key=${apiKey}`);
const data = await response.json();
const date = data.date;
const explanation = data.explanation;
const image = data.url;
const hdImage = data.hdurl;
const title = data.title;
const copyright = data.copyright;
---

<h1>Astronomy Picture of the Day</h1>
<p>&copy; {copyright}</p>
<div class="image-container">
	<img class="image-container__image" src={image} loading="lazy" alt={title}>

	<div class="image-container__text_overlay image-container__text_overlay--top-left">
		<div class="image-container__text_overlay-text">
			<h2>{title}</h2>
		</div>
	</div>
	<div class="image-container__text_overlay image-container__text_overlay--bottom-right">
		<div class="image-container__text_overlay-text">
			<p>{date}</p>
		</div>
	</div>

</div>
<p><em>{explanation}</em></p>

<style>
	.image-container {
		position: relative;
		width: 80vw;
		margin: 0 auto;
	}

	.image-container__image {
		max-width: 100%;
		position: relative;
	}

	.image-container__text_overlay {
		position: absolute;
		background-color: rgba(255, 255, 255, 0.64);
		margin: 8px;
	}

	.image-container__text_overlay--top-left {
		text-align: center;
		top: 0;
		left: 0;
	}

	.image-container__text_overlay--bottom-right {
		bottom: 0;
		right: 0;
	}

	.image-container__text_overlay-text > * {
		margin: 0;
	}
</style>
---
const apiKey = import.meta.env.API_KEY;
const response = await fetch(`https://api.nasa.gov/planetary/apod?api_key=${apiKey}`);
const data = await response.json();
const date = data.date;
const explanation = data.explanation;
const image = data.url;
const hdImage = data.hdurl;
const title = data.title;
const copyright = data.copyright;
---

<div class="apod">
	<h1 class="apod__title">Astronomy Picture of the Day</h1>
	<p class="apod__copyright">&copy; {copyright}</p>
	<h2 class="apod__title">{title}</h2>
	<img class="apod__image" src={image} loading="lazy" alt={title}>
	<p class="apod__image__container__text--overlay__text__date">{date}</p>
	<p class="apod__explanation"><em>{explanation}</em></p>
</div>

<style>
	.apod {
		border: 1px solid black;
		padding: 8px;
		border-radius: 8px;
		max-width: 420px;
		margin: 16px auto;
	}

	.apod__title, .apod__copyright, .apod__explanation {
		margin-left: 8px;
		margin-right: 8px;
	}

	.apod__image {
		width: 100%;
	}
</style>